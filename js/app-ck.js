/* our priate function */var pirate_talk=function(){var e=[["are","be"],["and","n'"],["around","aroun'"],["ever","e'er"],["everyone","all hands"],["for","fer"],["hello","ahoy"],["is","be"],["know","be knowin'"],["my","me"],["no","nay"],["of","o'"],["people","scallywags"],["the","th'"],["that's","that be"],["we","our jolly crew"],["where","whar"],["wasn't","weren't"],["you","ye"],["your","yer"],["yes","ya"],["you're","you be"],["Are","Be"],["And","N'"],["Around","Aroun'"],["Ever","E'er"],["Everyone","All hands"],["For","Fer"],["Hello","Ahoy"],["Is","Be"],["Know","Be knowin'"],["My","Me"],["No","Vay"],["Never","Vary"],["Of","O'"],["People","Scallywags"],["The","Th'"],["That's","That be"],["We","Our jolly crew"],["Where","Whar"],["Wasn't","wWren't"],["You","Ye"],["Your","Yer"],["Yes","Ya"],["You're","You be"]],t=[],n=function(){for(var n=0;n<e.length;n++)t.push(new RegExp("\\b"+e[n][0]+"\\b","g"))}(),r=function(n){for(var r=0;r<t.length;r++)n=n.replace(t[r],e[r][1]);n=n.replace(/ing\b/ig,"in'").replace(/ings\b/ig,"in's");return n};return{translate:r}}(),view=function(){var e=$("#title"),t=$("#description"),n=$("#count"),r=$("header input"),i=$("#links a"),s=$("#landing"),o=$("#posting"),u=function(r){e.html("<p>Would ye be joinin' <span>"+r.company+"</span> as a <span>"+r.title+"</span> in <span>"+r.location+"?</span>");t.empty().html(r.text);i.attr("href",r.url);n.html("Showing "+r.index+" of "+r.total);o.show();s.hide()},a=function(){},f=function(e){r.val(e)};return{render_job:u,render_no_results:a,update_search:f}}(),github_data=function(){var e,t=0,n=function(){var n=pirate_talk.translate(e[t].description),r=e[t].location,i=e[t].title,s=e[t].company,o=e[t].url;return{text:n,location:r,title:i,company:s,url:o,index:t+1,total:e.length}},r=function(r){if(r.length>0){e=r;t=0;view.render_job(n())}else{view.render;$("#landing p").html("No results were found!")}},i=function(){t++;t>=e.length&&(t=0);view.render_job(n())},s=function(){t--;t<0&&(t=e.length-1);view.render_job(n())},o=function(e){var t="http://jobs.github.com/positions.json";$.ajax({dataType:"jsonp",url:t,data:{search:e},success:r});view.update_search(e)};return{next:i,previous:s,query:o}}();$(function(){$("form").submit(function(e){var t=$("input",$(this)).val();github_data.query(t);e.preventDefault()});$("#next").click(function(e){github_data.next();return!1});$("#previous").click(function(e){github_data.previous();return!1})});